<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Pupuk - BPP Salomekko</title>
    <style>
        :root {
            --primary: #10b981;
            --primary-dark: #059669;
            --accent: #f59e0b;
            --danger: #ef4444;
            --bg: #f3f4f6;
            --card-bg: #ffffff;
            --text: #1f2937;
            --wa-color: #25D366;
            --wa-dark: #128C7E;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        /* --- HEADER TERPUSAT --- */
        .agency-header-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--primary-dark);
            width: 100%;
            max-width: 900px;
        }

        .logo-kementan-center {
            height: 90px;
            width: auto;
            margin-bottom: 12px;
        }

        .ministry-subtext {
            font-size: 0.9rem;
            font-weight: 600;
            color: #4b5563;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .agency-title-main {
            font-size: 1.8rem;
            font-weight: 900;
            text-transform: uppercase;
            color: var(--primary-dark);
            letter-spacing: 1px;
            line-height: 1.2;
        }

        @media (max-width: 640px) {
            .logo-kementan-center { height: 75px; }
            .ministry-subtext { font-size: 0.8rem; }
            .agency-title-main { font-size: 1.4rem; }
        }

        /* --- CONTAINER UTAMA --- */
        .container {
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            margin-bottom: 40px;
            display: flex;
            flex-direction: column;
        }

        .tool-header {
            background: var(--primary-dark);
            padding: 20px;
            text-align: center;
            color: white;
        }
        .tool-header h2 { font-size: 1.3rem; margin-bottom: 5px; font-weight: 600; }
        .tool-header p { opacity: 0.9; font-size: 0.9rem; }

        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }

        @media (max-width: 768px) {
            .grid-layout { grid-template-columns: 1fr; }
        }

        /* Input Section */
        .input-section { padding: 25px; background: #fff; }
        .section-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 15px; }

        .input-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .input-label strong { display: block; font-size: 0.95rem; }
        .input-label small { color: #6b7280; font-size: 0.8rem; }

        input[type="number"] {
            width: 80px;
            padding: 8px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            text-align: center;
            font-size: 1rem;
        }
        input[type="number"]:focus { outline: 2px solid var(--primary); }

        /* Result Section */
        .result-section {
            background: #f9fafb;
            padding: 25px;
            border-left: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
        }

        .analysis-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            text-align: center;
            transition: all 0.3s;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 10px;
            background: #e5e7eb;
            color: #374151;
        }

        .analysis-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 5px; color: #111; }
        .analysis-desc { font-size: 0.9rem; color: #4b5563; line-height: 1.5; }

        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .stat-box { background: white; padding: 10px; border-radius: 8px; text-align: center; border: 1px solid #e5e7eb; }
        .stat-val { display: block; font-size: 1.1rem; font-weight: bold; }
        .stat-label { font-size: 0.75rem; color: #6b7280; }
        
        .c-n { color: #2563eb; } .c-p { color: #d97706; } .c-k { color: #dc2626; }

        .visual-bar-container { display: flex; height: 20px; width: 100%; border-radius: 10px; overflow: hidden; background: #e5e7eb; margin-bottom: 10px; }
        .v-bar { height: 100%; transition: width 0.5s; }
        .vb-n { background: #3b82f6; } .vb-p { background: #f59e0b; } .vb-k { background: #ef4444; }

        .status-veg { background: #d1fae5; color: #065f46; border: 1px solid #34d399; }
        .status-gen { background: #fef3c7; color: #92400e; border: 1px solid #fbbf24; }
        .status-bal { background: #e0f2fe; color: #075985; border: 1px solid #38bdf8; }
        .status-empty { background: #f3f4f6; color: #6b7280; }

        .btn-reset { background: transparent; border: 1px solid #ef4444; color: #ef4444; padding: 8px; width: 100%; border-radius: 6px; margin-top: 15px; cursor: pointer; }
        .btn-reset:hover { background: #ef4444; color: white; }

        /* --- TOMBOL WHATSAPP (BARU) --- */
        .cta-section {
            padding: 20px;
            background: #fff;
            border-top: 1px solid #e5e7eb;
            text-align: center;
        }

        .btn-wa {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--wa-color);
            color: white;
            text-decoration: none;
            padding: 15px 25px;
            border-radius: 50px; /* Bentuk kapsul modern */
            font-weight: bold;
            font-size: 0.95rem;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3);
            transition: transform 0.2s, background-color 0.2s;
            width: 100%;
            max-width: 500px; /* Agar tidak terlalu lebar di PC */
            text-transform: uppercase;
        }

        .btn-wa:hover {
            background-color: var(--wa-dark);
            transform: translateY(-2px);
        }

        .wa-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            fill: white;
        }

    </style>
</head>
<body>

<div class="agency-header-center">
    <img src="https://upload.wikimedia.org/wikipedia/commons/8/8a/Logo_Kementerian_Pertanian_Republik_Indonesia.svg" alt="Logo Kementan" class="logo-kementan-center">
    <div class="ministry-subtext">KEMENTERIAN PERTANIAN REPUBLIK INDONESIA</div>
    <div class="agency-title-main">BPP KECAMATAN SALOMEKKO</div>
</div>

<div class="container">
    <div class="tool-header">
        <h2>ðŸŒ± Kalkulator Pupuk & Analisa Pintar</h2>
        <p>Masukkan berat pupuk untuk melihat komposisi dan kegunaannya.</p>
    </div>

    <div class="grid-layout">
        <div class="input-section">
            <div class="section-title">ðŸ“¦ Masukkan Berat (Kg)</div>
            <div class="input-row">
                <div class="input-label"><strong>Urea / ZA</strong><small>Sumber Nitrogen (Daun)</small></div>
                <input type="number" id="inpN" placeholder="0" min="0" oninput="recalc()">
            </div>
            <div class="input-row">
                <div class="input-label"><strong>SP-36 / TSP</strong><small>Sumber Phosphate (Akar)</small></div>
                <input type="number" id="inpP" placeholder="0" min="0" oninput="recalc()">
            </div>
            <div class="input-row">
                <div class="input-label"><strong>KCL / MOP</strong><small>Sumber Kalium (Buah)</small></div>
                <input type="number" id="inpK" placeholder="0" min="0" oninput="recalc()">
            </div>
            <div class="input-row">
                <div class="input-label"><strong>NPK 16-16-16</strong><small>Pupuk Seimbang</small></div>
                <input type="number" id="inpNPK" placeholder="0" min="0" oninput="recalc()">
            </div>
            <div class="input-row" style="border-bottom: none;">
                <div class="input-label"><strong>Lainnya</strong><small>Pemberat (0 unsur hara)</small></div>
                <input type="number" id="inpFiller" placeholder="0" min="0" oninput="recalc()">
            </div>
        </div>

        <div class="result-section">
            <div class="section-title">ðŸ“Š Hasil & Kegunaan</div>
            <div id="analysisCard" class="analysis-card status-empty">
                <span id="badgeStatus" class="status-badge">Menunggu Data...</span>
                <div id="analysisTitle" class="analysis-title">-</div>
                <div id="analysisDesc" class="analysis-desc">Silakan masukkan angka berat pupuk di sebelah kiri.</div>
            </div>
            <div class="stats-grid">
                <div class="stat-box" style="border-bottom: 3px solid #3b82f6;"><span class="stat-val c-n" id="resN">0%</span><span class="stat-label">N</span></div>
                <div class="stat-box" style="border-bottom: 3px solid #f59e0b;"><span class="stat-val c-p" id="resP">0%</span><span class="stat-label">P</span></div>
                <div class="stat-box" style="border-bottom: 3px solid #ef4444;"><span class="stat-val c-k" id="resK">0%</span><span class="stat-label">K</span></div>
            </div>
            <div class="visual-bar-container">
                <div id="barN" class="v-bar vb-n" style="width: 0%"></div>
                <div id="barP" class="v-bar vb-p" style="width: 0%"></div>
                <div id="barK" class="v-bar vb-k" style="width: 0%"></div>
            </div>
            <div style="text-align: center; font-size: 0.8rem; color: #666; margin-bottom: 10px;">Total Berat: <strong id="totalKg">0</strong> Kg</div>
            <button class="btn-reset" onclick="resetAll()">Reset Data</button>
        </div>
    </div>

    <div class="cta-section">
        <a href="https://wa.me/6282319527214" target="_blank" class="btn-wa">
            <svg class="wa-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
            CHAT BPP SALOMEKKO UNTUK INFORMASI LEBIH LANJUT
        </a>
    </div>

</div>

<script>
    function recalc() {
        let wN = parseFloat(document.getElementById('inpN').value) || 0; 
        let wP = parseFloat(document.getElementById('inpP').value) || 0; 
        let wK = parseFloat(document.getElementById('inpK').value) || 0; 
        let wNPK = parseFloat(document.getElementById('inpNPK').value) || 0; 
        let wFill = parseFloat(document.getElementById('inpFiller').value) || 0;

        let totalW = wN + wP + wK + wNPK + wFill;

        if (totalW === 0) { resetUI(); return; }

        let kgN = (wN * 0.46) + (wNPK * 0.16);
        let kgP = (wP * 0.36) + (wNPK * 0.16);
        let kgK = (wK * 0.60) + (wNPK * 0.16);

        let pN = (kgN / totalW) * 100;
        let pP = (kgP / totalW) * 100;
        let pK = (kgK / totalW) * 100;

        document.getElementById('resN').innerText = pN.toFixed(1) + "%";
        document.getElementById('resP').innerText = pP.toFixed(1) + "%";
        document.getElementById('resK').innerText = pK.toFixed(1) + "%";
        document.getElementById('totalKg').innerText = totalW.toFixed(1);

        let totalNutrient = pN + pP + pK;
        if(totalNutrient > 0){
            document.getElementById('barN').style.width = (pN / totalNutrient * 100) + "%";
            document.getElementById('barP').style.width = (pP / totalNutrient * 100) + "%";
            document.getElementById('barK').style.width = (pK / totalNutrient * 100) + "%";
        }
        runAnalysis(pN, pP, pK);
    }

    function runAnalysis(n, p, k) {
        const card = document.getElementById('analysisCard');
        const badge = document.getElementById('badgeStatus');
        const title = document.getElementById('analysisTitle');
        const desc = document.getElementById('analysisDesc');

        card.className = 'analysis-card';

        if (n > p + 3 && n > k + 3) {
            card.classList.add('status-veg');
            badge.innerText = "Fase Pertumbuhan (Vegetatif)";
            title.innerText = "Dominan Nitrogen: Fokus Daun";
            desc.innerText = "Campuran tinggi Nitrogen. Cocok untuk masa awal tanam untuk memacu pertumbuhan akar, batang, dan daun.";
        }
        else if ((p > n || k > n) && (p + k) > n + 3) {
            card.classList.add('status-gen');
            badge.innerText = "Fase Pembuahan (Generatif)";
            title.innerText = "Dominan P & K: Fokus Bunga/Buah";
            desc.innerText = "Kaya P dan K. Gunakan saat tanaman mulai berbunga untuk mencegah rontok dan membesarkan buah/umbi.";
        }
        else {
            card.classList.add('status-bal');
            badge.innerText = "Seimbang (Perawatan)";
            title.innerText = "Kandungan Seimbang";
            desc.innerText = "Kandungan hara relatif rata. Aman digunakan untuk pemupukan rutin tanaman.";
        }
    }

    function resetUI() {
        document.getElementById('resN').innerText = "0%";
        document.getElementById('resP').innerText = "0%";
        document.getElementById('resK').innerText = "0%";
        document.getElementById('totalKg').innerText = "0";
        document.getElementById('barN').style.width = "0%";
        document.getElementById('barP').style.width = "0%";
        document.getElementById('barK').style.width = "0%";
        const card = document.getElementById('analysisCard');
        card.className = 'analysis-card status-empty';
        document.getElementById('badgeStatus').innerText = "Menunggu Data...";
        document.getElementById('analysisTitle').innerText = "-";
        document.getElementById('analysisDesc').innerText = "Silakan masukkan angka berat pupuk di sebelah kiri.";
    }

    function resetAll() {
        const inputs = document.querySelectorAll('input');
        inputs.forEach(i => i.value = '');
        recalc();
    }
</script>

</body>
</html>
